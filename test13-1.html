<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 13.Los Cuerpos Generales (I): Funciones y derechos funcionarios</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f9f9f9;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 15px;
        }
        .pregunta {
            margin-bottom: 25px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .pregunta p {
            font-weight: bold;
            margin-top: 0;
        }
        label {
            display: block;
            padding: 8px 0;
            cursor: pointer;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        .correcta {
            color: #27ae60;
            font-weight: bold;
        }
        .incorrecta {
            color: #e74c3c;
            text-decoration: line-through;
        }
        .respuesta-correcta {
            color: #27ae60;
            font-weight: bold;
            margin-top: 5px;
            display: none;
        }
        #resultado {
            margin-top: 30px;
            padding: 20px;
            background-color: #e8f4f8;
            border-left: 6px solid #3498db;
            border-radius: 5px;
            display: none;
        }
        #contador {
            text-align: center;
            margin-bottom: 20px;
            font-size: 18px;
            color: #7f8c8d;
        }
        button {
            background-color: #3498db;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 20px auto;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .explicacion {
            font-style: italic;
            color: #7f8c8d;
            margin-top: 5px;
            display: none;
        }
        #indice {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
            justify-content: center;
        }
        .numero-pregunta {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #ecf0f1;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
        }
        .numero-pregunta:hover {
            background-color: #bdc3c7;
        }
        .numero-pregunta.respondida {
            background-color: #2ecc71;
            color: white;
        }
        .numero-pregunta.respondida-incorrecta {
            background-color: #e74c3c;
            color: white;
        }
        .controles-navegacion {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        #anterior-btn {
            background-color: #95a5a6;
        }
        #anterior-btn:hover {
            background-color: #7f8c8d;
        }
        #finalizar-btn {
            background-color: #e67e22;
            display: none;
        }
        #finalizar-btn:hover {
            background-color: #d35400;
        }
    </style>
</head>
<body>
    <h1>Tema Tema 13.Los Cuerpos Generales (I): Funciones y derechos funcionarios</h1>

    
    <form id="testForm">
        <!-- Las preguntas se insertarán aquí dinámicamente -->
    </form>
    
    <div class="controles-navegacion">
        <button type="button" id="anterior-btn" onclick="anteriorPregunta()">Anterior</button>
        <button type="button" id="siguiente-btn" onclick="siguientePregunta()">Siguiente</button>
        <button type="button" id="finalizar-btn" onclick="finalizarTest()">Ver resultados finales</button>
    </div>
        <div id="contador">Pregunta <span id="pregunta-actual">1</span> de <span id="total-preguntas">30</span></div>
    
    <div id="indice">
        <!-- Los números de pregunta se generarán aquí -->
    </div>
    <div id="resultado"></div>
    
    <script>
               // Reemplazar "[a-d]\) --> por "
        const preguntas = [
  {
    pregunta: "1. ¿Cuál de las siguientes es una función del Cuerpo de Auxilio Judicial?",
    opciones: [
      "a) Realizar funciones de archivo de autos y expedientes judiciales",
      "b) Gestionar la tramitación de los procedimientos",
      "c) Practicar comparecencias de las partes en los procedimientos",
      "d) Extender notas para unir datos al procedimiento"
    ],
    correcta: 0,
    explicacion: "El Cuerpo de Auxilio Judicial realiza funciones de archivo de autos y expedientes judiciales, entre otras."
  },
  {
    pregunta: "2. ¿Qué función corresponde al Cuerpo de Tramitación Procesal y Administrativa?",
    opciones: [
      "a) Actuar como Policía Judicial",
      "b) Registrar y clasificar la correspondencia",
      "c) Documentar embargos y lanzamientos",
      "d) Ocupar la Secretaría de la Oficina judicial"
    ],
    correcta: 1,
    explicacion: "El Cuerpo de Tramitación Procesal y Administrativa se encarga del registro y clasificación de la correspondencia."
  },
  {
    pregunta: "3. ¿Qué cuerpo puede ser nombrado letrado de la Administración de Justicia sustitutos?",
    opciones: [
      "a) Cuerpo de Auxilio Judicial",
      "b) Cuerpo de Tramitación Procesal y Administrativa",
      "c) Cuerpo de Gestión Procesal y Administrativa",
      "d) Ninguno de los anteriores"
    ],
    correcta: 2,
    explicacion: "Los funcionarios del Cuerpo de Gestión Procesal y Administrativa podrán ser nombrados letrados de la Administración de Justicia sustitutos."
  },
  {
    pregunta: "4. ¿Qué porcentaje mínimo de plazas se reserva para personas con discapacidad en las ofertas de empleo público?",
    opciones: [
      "a) 3%",
      "b) 5%",
      "c) 7%",
      "d) 10%"
    ],
    correcta: 2,
    explicacion: "En las ofertas de empleo público se reserva un cupo no inferior al siete por ciento para personas con discapacidad."
  },
  {
    pregunta: "5. ¿Qué sistema selectivo se utiliza para el acceso a los cuerpos generales de la Administración de Justicia?",
    opciones: [
      "a) Solo concurso",
      "b) Solo oposición",
      "c) Oposición y concurso-oposición",
      "d) Entrevista personal"
    ],
    correcta: 2,
    explicacion: "Los sistemas selectivos de funcionarios de carrera serán los de oposición y concurso-oposición."
  },
  {
    pregunta: "6. ¿Quién nombra a los miembros de la Comisión de Selección de Personal?",
    opciones: [
      "a) El Consejo General del Poder Judicial",
      "b) El Ministro de Justicia",
      "c) Las Comunidades Autónomas",
      "d) El Tribunal Supremo"
    ],
    correcta: 1,
    explicacion: "El Ministro de Justicia nombrará mediante orden una Comisión de Selección de Personal."
  },
  {
    pregunta: "7. ¿Cuál es el número mínimo de vocales que componen los Tribunales Calificadores Únicos?",
    opciones: [
      "a) Tres",
      "b) Cinco",
      "c) Siete",
      "d) Nueve"
    ],
    correcta: 1,
    explicacion: "Los Tribunales Calificadores Únicos estarán compuestos por un número impar de vocales, no inferior a cinco."
  },
  {
    pregunta: "8. ¿Qué plazo mínimo debe transcurrir entre la conclusión de un ejercicio y el comienzo del siguiente en un proceso selectivo?",
    opciones: [
      "a) 24 horas",
      "b) 48 horas",
      "c) 72 horas",
      "d) 1 semana"
    ],
    correcta: 2,
    explicacion: "Desde la total conclusión de un ejercicio o prueba hasta el comienzo del siguiente deberá transcurrir un plazo mínimo de 72 horas."
  },
  {
    pregunta: "9. ¿Qué porcentaje de plazas se reserva para promoción interna en las ofertas de empleo público?",
    opciones: [
      "a) 10%",
      "b) 20%",
      "c) 30%",
      "d) 40%"
    ],
    correcta: 2,
    explicacion: "El Ministerio de Justicia convocará anualmente procesos de promoción interna para la cobertura de un número de plazas equivalente al treinta por ciento."
  },
  {
    pregunta: "10. ¿Cuál de los siguientes NO es un requisito para adquirir la condición de funcionario?",
    opciones: [
      "a) Reunir los requisitos de la convocatoria",
      "b) Superar el proceso selectivo",
      "c) Tener experiencia previa en el sector privado",
      "d) Tomar posesión dentro del plazo establecido"
    ],
    correcta: 2,
    explicacion: "La experiencia previa en el sector privado no es un requisito para adquirir la condición de funcionario."
  },
  {
    pregunta: "11. ¿Cuál de las siguientes causas NO produce la pérdida de la condición de funcionario?",
    opciones: [
      "a) Renuncia",
      "b) Jubilación voluntaria",
      "c) Cambio de domicilio",
      "d) Sanción disciplinaria de separación del servicio"
    ],
    correcta: 2,
    explicacion: "El cambio de domicilio no produce la pérdida de la condición de funcionario."
  },
  {
    pregunta: "12. ¿Qué edad marca el límite para la jubilación forzosa de los funcionarios?",
    opciones: [
      "a) 60 años",
      "b) 65 años",
      "c) 70 años",
      "d) No hay límite de edad"
    ],
    correcta: 1,
    explicacion: "La jubilación forzosa se declarará de oficio al cumplir el funcionario los 65 años de edad."
  },
  {
    pregunta: "13. ¿Cuál de los siguientes es un derecho profesional de los funcionarios?",
    opciones: [
      "a) Al mantenimiento de su condición funcionarial",
      "b) A realizar actividades privadas relacionadas con sus funciones",
      "c) A no identificarse ante los ciudadanos",
      "d) A no cumplir órdenes de sus superiores"
    ],
    correcta: 0,
    explicacion: "Entre los derechos profesionales está el mantenimiento de su condición funcionarial."
  },
  {
    pregunta: "14. ¿Cuál de los siguientes es un deber de los funcionarios?",
    opciones: [
      "a) Guardar sigilo de los asuntos que conozcan por razón de sus cargos",
      "b) No identificarse ante los ciudadanos",
      "c) Compartir información confidencial con medios de comunicación",
      "d) No cumplir órdenes que consideren incorrectas sin consultar"
    ],
    correcta: 0,
    explicacion: "Entre los deberes está mantener sigilo de los asuntos que conozcan por razón de sus cargos."
  },
  {
    pregunta: "15. ¿Qué actividad es incompatible para los miembros del Cuerpo de Gestión Procesal y Administrativa?",
    opciones: [
      "a) Ejercicio de la abogacía",
      "b) Docencia universitaria",
      "c) Investigación científica",
      "d) Trabajo en organizaciones benéficas"
    ],
    correcta: 0,
    explicacion: "El ejercicio de la abogacía es incompatible para los miembros del Cuerpo de Gestión Procesal y Administrativa."
  },
  {
    pregunta: "16. ¿Cuál es la duración mínima de la jornada semanal en la Administración de Justicia?",
    opciones: [
      "a) 35 horas",
      "b) 37.5 horas",
      "c) 40 horas",
      "d) 42 horas"
    ],
    correcta: 1,
    explicacion: "La duración mínima de la jornada de trabajo en la Administración de Justicia será de treinta y siete horas y media semanales."
  },
  {
    pregunta: "17. ¿Cuántas horas anuales de trabajo efectivo equivalen la jornada laboral?",
    opciones: [
      "a) 1,500 horas",
      "b) 1,657 horas",
      "c) 1,800 horas",
      "d) 2,000 horas"
    ],
    correcta: 1,
    explicacion: "El cómputo anual de trabajo efectivo es de promedio equivalente a mil seiscientas cincuenta y siete horas anuales."
  },
  {
    pregunta: "18. ¿Qué porcentaje del salario reciben los funcionarios con jornada reducida por interés particular?",
    opciones: [
      "a) 50%",
      "b) 75%",
      "c) 80%",
      "d) 90%"
    ],
    correcta: 1,
    explicacion: "La jornada reducida por interés particular implica trabajar 5 horas diarias con una retribución del 75% del salario completo."
  },
  {
    pregunta: "19. ¿Cuántos días hábiles de vacaciones tienen los funcionarios por cada año natural?",
    opciones: [
      "a) 20 días",
      "b) 22 días",
      "c) 25 días",
      "d) 30 días"
    ],
    correcta: 1,
    explicacion: "Los funcionarios públicos tendrán derecho a disfrutar, durante cada año natural, de unas vacaciones retribuidas de veintidós días hábiles."
  },
  {
    pregunta: "20. ¿Cuántos días adicionales de vacaciones pueden establecerse como máximo por antigüedad?",
    opciones: [
      "a) 2 días",
      "b) 4 días",
      "c) 6 días",
      "d) 8 días"
    ],
    correcta: 1,
    explicacion: "Cada Administración Pública puede establecer hasta un máximo de cuatro días adicionales de vacaciones en función del tiempo de servicios prestados."
  },
  {
    pregunta: "21. ¿Cuántos días de permiso por matrimonio tienen los funcionarios?",
    opciones: [
      "a) 5 días",
      "b) 10 días",
      "c) 15 días",
      "d) 20 días"
    ],
    correcta: 2,
    explicacion: "Los funcionarios tienen derecho a una licencia de quince días por matrimonio, con plenitud de derechos económicos."
  },
  {
    pregunta: "22. ¿Cuánto dura el permiso por nacimiento para la madre biológica?",
    opciones: [
      "a) 12 semanas",
      "b) 14 semanas",
      "c) 16 semanas",
      "d) 18 semanas"
    ],
    correcta: 2,
    explicacion: "El permiso por nacimiento para la madre biológica tiene una duración de dieciséis semanas."
  },
  {
    pregunta: "23. ¿Cuántas semanas son de descanso obligatorio e ininterrumpidas tras el parto?",
    opciones: [
      "a) 4 semanas",
      "b) 6 semanas",
      "c) 8 semanas",
      "d) 10 semanas"
    ],
    correcta: 1,
    explicacion: "De las dieciséis semanas de permiso por nacimiento, las seis semanas inmediatas posteriores al parto serán en todo caso de descanso obligatorio e ininterrumpidas."
  },
  {
    pregunta: "24. ¿Cuál es la duración máxima acumulada de las licencias por asuntos propios?",
    opciones: [
      "a) 1 mes cada año",
      "b) 2 meses cada año",
      "c) 3 meses cada dos años",
      "d) 6 meses cada cinco años"
    ],
    correcta: 2,
    explicacion: "Las licencias por asuntos propios no pueden exceder de tres meses cada dos años de servicios efectivos."
  },
  {
    pregunta: "25. ¿Cuántos días de permiso se conceden por fallecimiento de un familiar de primer grado en distinta localidad?",
    opciones: [
      "a) 3 días",
      "b) 5 días",
      "c) 7 días",
      "d) 10 días"
    ],
    correcta: 1,
    explicacion: "Por fallecimiento de familiar de 1er grado en distinta localidad se conceden 5 días hábiles."
  },
  {
    pregunta: "26. ¿Qué función NO corresponde al Cuerpo de Auxilio Judicial?",
    opciones: [
      "a) Practicar actos de comunicación como notificaciones",
      "b) Proceder a la ejecución de embargos",
      "c) Gestionar la tramitación de procedimientos",
      "d) Actuar como Policía Judicial"
    ],
    correcta: 2,
    explicacion: "Gestionar la tramitación de procedimientos es función del Cuerpo de Gestión Procesal y Administrativa, no del de Auxilio Judicial."
  },
  {
    pregunta: "27. ¿Qué función específica del Cuerpo de Tramitación Procesal y Administrativa se menciona como preguntada en exámenes?",
    opciones: [
      "a) La formación de autos y expedientes",
      "b) El registro y clasificación de la correspondencia",
      "c) La confección de cédulas para actos de comunicación",
      "d) El apoyo a actuaciones de justicia restaurativa"
    ],
    correcta: 1,
    explicacion: "El registro y clasificación de la correspondencia se menciona específicamente como preguntada en exámenes de 2016 y 2019."
  },
  {
    pregunta: "28. ¿En qué caso excepcional pueden los funcionarios del Cuerpo de Gestión sustituir a letrados?",
    opciones: [
      "a) En casos de huelga de letrados",
      "b) En entradas y registros en lugares cerrados acordados por la Audiencia Nacional",
      "c) Cuando el letrado esté de vacaciones",
      "d) En procedimientos civiles sencillos"
    ],
    correcta: 1,
    explicacion: "Excepcionalmente, en entradas y registros en lugares cerrados acordados por un único órgano judicial de la Audiencia Nacional, pueden sustituir al letrado."
  },
  {
    pregunta: "29. ¿Qué porcentaje mínimo de las plazas reservadas a discapacitados debe asignarse a discapacidad intelectual?",
    opciones: [
      "a) 1%",
      "b) 2%",
      "c) 3%",
      "d) 5%"
    ],
    correcta: 1,
    explicacion: "Al menos el dos por ciento de las plazas ofertadas debe reservarse para personas con discapacidad intelectual."
  },
  {
    pregunta: "30. ¿Qué ocurre si las plazas reservadas a discapacitados no alcanzan el 3% de las convocadas?",
    opciones: [
      "a) Se pierden",
      "b) Se acumulan al cupo del 7% de la oferta siguiente",
      "c) Se convierten en plazas ordinarias",
      "d) Se reservan para la siguiente convocatoria del mismo año"
    ],
    correcta: 1,
    explicacion: "Si las plazas reservadas no alcanzan la tasa del 3% de las plazas convocadas, se acumulan al cupo del 7% de la oferta siguiente."
  },
  {
    pregunta: "31. ¿Qué principios rigen la selección de personal funcionario según la LOPJ?",
    opciones: [
      "a) Objetividad, igualdad, mérito y capacidad",
      "b) Antigüedad exclusivamente",
      "c) Discriminación positiva",
      "d) Rotación automática"
    ],
    correcta: 0,
    explicacion: "El personal funcionario será seleccionado con criterios de objetividad y con arreglo a los principios de igualdad, mérito y capacidad."
  },
  {
    pregunta: "32. ¿Qué tipo de pruebas pueden incluir los procesos selectivos?",
    opciones: [
      "a) Solo pruebas escritas",
      "b) Pruebas físicas exclusivamente",
      "c) Comprobación de conocimientos, dominio de idiomas y, en su caso, pruebas físicas",
      "d) Solo entrevistas personales"
    ],
    correcta: 2,
    explicacion: "Las pruebas pueden consistir en comprobación de conocimientos, dominio de lenguas extranjeras y, en su caso, superación de pruebas físicas."
  },
  {
    pregunta: "33. ¿Quiénes componen la Comisión de Selección para Cuerpos Especiales no traspasados?",
    opciones: [
      "a) Solo funcionarios del Ministerio de Justicia",
      "b) Tres facultativos del INTCF, dos médicos forenses y tres funcionarios del Ministerio",
      "c) Representantes de CCAA y del Ministerio a partes iguales",
      "d) Magistrados del Tribunal Supremo"
    ],
    correcta: 1,
    explicacion: "Para Cuerpos Especiales no traspasados, la Comisión está formada por tres facultativos del INTCF, dos médicos forenses y tres funcionarios del Ministerio."
  },
  {
    pregunta: "34. ¿Qué garantizan los Tribunales Calificadores?",
    opciones: [
      "a) La igualdad entre aspirantes y objetividad del procedimiento",
      "b) La contratación de todos los aspirantes",
      "c) La preferencia para aspirantes locales",
      "d) La reducción del tiempo de los procesos"
    ],
    correcta: 0,
    explicacion: "Los tribunales gozarán de autonomía funcional y responderán de la objetividad del procedimiento y del cumplimiento de las normas."
  },
  {
    pregunta: "35. ¿Qué mayoría se requiere para los acuerdos de los Tribunales Calificadores?",
    opciones: [
      "a) Unanimidad",
      "b) Mayoría simple",
      "c) Mayoría cualificada de 2/3",
      "d) Decisión del presidente"
    ],
    correcta: 1,
    explicacion: "Los acuerdos se adoptan por mayoría, con voto de calidad del presidente en caso de empate."
  },
  {
    pregunta: "36. ¿Qué plazo tienen los aspirantes para aportar documentación tras ser propuestos?",
    opciones: [
      "a) 10 días naturales",
      "b) 15 días naturales",
      "c) 20 días naturales",
      "d) 30 días naturales"
    ],
    correcta: 2,
    explicacion: "Los aspirantes propuestos aportarán la documentación dentro del plazo de veinte días naturales desde la publicación en el BOE."
  },
  {
    pregunta: "37. ¿Qué retribución perciben los funcionarios en prácticas?",
    opciones: [
      "a) 50% del sueldo",
      "b) 75% del sueldo",
      "c) Sueldo y pagas extraordinarias del cuerpo al que accedan",
      "d) Solo dietas"
    ],
    correcta: 2,
    explicacion: "Los funcionarios en prácticas perciben una retribución equivalente al sueldo y las pagas extraordinarias correspondientes al cuerpo al que accedan."
  },
  {
    pregunta: "38. ¿Qué deben prestar los funcionarios antes de tomar posesión?",
    opciones: [
      "a) Una fianza",
      "b) Juramento o promesa",
      "c) Un informe médico",
      "d) Un aval bancario"
    ],
    correcta: 1,
    explicacion: "La condición de funcionario se adquiere con la toma de posesión previo juramento o promesa."
  },
  {
    pregunta: "39. ¿Qué órgano es competente para la rehabilitación de funcionarios jubilados por incapacidad permanente?",
    opciones: [
      "a) Las Comunidades Autónomas",
      "b) El Ministerio de Justicia",
      "c) El Tribunal Supremo",
      "d) El Consejo General del Poder Judicial"
    ],
    correcta: 1,
    explicacion: "La rehabilitación procedente de jubilación por incapacidad permanente será acordada, en todo caso, por el Ministerio de Justicia."
  },
  {
    pregunta: "40. ¿Qué plazo máximo tiene la Administración para resolver una solicitud de rehabilitación?",
    opciones: [
      "a) 3 meses",
      "b) 6 meses",
      "c) 9 meses",
      "d) 1 año"
    ],
    correcta: 1,
    explicacion: "El plazo máximo para resolver el procedimiento y notificar la resolución será de seis meses."
  },
  {
    pregunta: "41. ¿Qué derecho tienen los funcionarios en caso de silencio administrativo en rehabilitación?",
    opciones: [
      "a) Entender estimada su solicitud",
      "b) Presentar un recurso contencioso-administrativo",
      "c) Solicitar indemnización",
      "d) Repetir la solicitud"
    ],
    correcta: 0,
    explicacion: "Si transcurrido el plazo de seis meses no se hubiera notificado resolución, el interesado podrá entender estimada su solicitud."
  },
  {
    pregunta: "42. ¿Qué tipo de retribuciones perciben los funcionarios?",
    opciones: [
      "a) Solo básicas",
      "b) Solo complementarias",
      "c) Básicas y complementarias",
      "d) Solo variables"
    ],
    correcta: 2,
    explicacion: "Las retribuciones serán básicas y complementarias."
  },
  {
    pregunta: "43. ¿Qué incluyen las retribuciones complementarias fijas?",
    opciones: [
      "a) Complemento general de puesto, específico y de carrera profesional",
      "b) Solo gratificaciones por servicios extraordinarios",
      "c) Únicamente indemnizaciones",
      "d) Solo complemento de productividad"
    ],
    correcta: 0,
    explicacion: "Las retribuciones complementarias fijas incluyen el complemento general de puesto, el específico y el de carrera profesional."
  },
  {
    pregunta: "44. ¿Cuánto aumenta el sueldo por cada trienio?",
    opciones: [
      "a) 3%",
      "b) 5%",
      "c) 7%",
      "d) 10%"
    ],
    correcta: 1,
    explicacion: "Los trienios aumentan un 5% del sueldo cada tres años."
  },
  {
    pregunta: "45. ¿Qué incluyen las dos pagas extraordinarias anuales?",
    opciones: [
      "a) Solo sueldo",
      "b) Sueldo, antigüedad y parte del complemento general",
      "c) Solo complementos específicos",
      "d) Todas las retribuciones"
    ],
    correcta: 1,
    explicacion: "Las dos pagas extra anuales incluyen sueldo, antigüedad y parte del complemento general."
  },
  {
    pregunta: "46. ¿Qué caracteriza al teletrabajo en el EBEP?",
    opciones: [
      "a) Es obligatorio para todos",
      "b) Es voluntario y reversible",
      "c) Reduce automáticamente el salario",
      "d) Solo se permite en puestos directivos"
    ],
    correcta: 1,
    explicacion: "El teletrabajo es voluntario, reversible (salvo excepciones) y requiere autorización expresa."
  },
  {
    pregunta: "47. ¿Cuántos días de vacaciones corresponden a un funcionario con 25 años de servicio?",
    opciones: [
      "a) 22 días",
      "b) 24 días",
      "c) 25 días",
      "d) 26 días"
    ],
    correcta: 2,
    explicacion: "Con veinticinco años de servicio se tienen derecho a veinticinco días hábiles de vacaciones."
  },
  {
    pregunta: "48. ¿Qué permiso NO está reconocido para los funcionarios?",
    opciones: [
      "a) Por nacimiento de hijo",
      "b) Por adopción",
      "c) Por compra de vivienda",
      "d) Por violencia de género"
    ],
    correcta: 2,
    explicacion: "No existe un permiso específico por compra de vivienda en la normativa."
  },
  {
    pregunta: "49. ¿Cuánto dura el permiso parental para cuidado de hijos hasta los 8 años?",
    opciones: [
      "a) 4 semanas",
      "b) 6 semanas",
      "c) 8 semanas",
      "d) 10 semanas"
    ],
    correcta: 2,
    explicacion: "El permiso parental para cuidado de hijos hasta los 8 años dura hasta 8 semanas."
  },
  {
    pregunta: "50. ¿Qué licencia NO está reconocida en el texto?",
    opciones: [
      "a) Por matrimonio",
      "b) Por formación",
      "c) Por compra de automóvil",
      "d) Por enfermedad"
    ],
    correcta: 2,
    explicacion: "No existe una licencia por compra de automóvil reconocida en el texto."
  }
];

        let preguntaActual = 0;
        let respuestasCorrectas = 0;
        let respuestasUsuario = Array(preguntas.length).fill(null);

        // Mostrar la primera pregunta al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
        preguntas.forEach(p => {
            // Guardamos la opción correcta original
            const correctaOriginal = p.opciones[p.correcta];
            // Mezclamos las opciones
            p.opciones = mezclarArray(p.opciones);
            // Actualizamos el índice de la nueva correcta
            p.correcta = p.opciones.indexOf(correctaOriginal);
        });

            document.getElementById('total-preguntas').textContent = preguntas.length;
            generarIndice();
            mostrarPregunta(preguntaActual);
            actualizarControlesNavegacion();
        });
        
        //para mezclar
            function mezclarArray(array) {
            const copia = [...array];
            for (let i = copia.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [copia[i], copia[j]] = [copia[j], copia[i]];
            }
            return copia;
            }

        


        // Función para generar el índice de preguntas
        function generarIndice() {
            const indice = document.getElementById('indice');
            indice.innerHTML = '';
            
            preguntas.forEach((_, index) => {
                const numero = document.createElement('div');
                numero.className = 'numero-pregunta';
                numero.textContent = index + 1;
                numero.onclick = function() { irAPregunta(index); };
                indice.appendChild(numero);
            });
        }

        // Función para ir a una pregunta específica
        function irAPregunta(num) {
            preguntaActual = num;
            mostrarPregunta(preguntaActual);
            actualizarControlesNavegacion();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Función para mostrar una pregunta
        function mostrarPregunta(num) {
            const form = document.getElementById('testForm');
            form.innerHTML = '';
            
            const pregunta = preguntas[num];
            
            const divPregunta = document.createElement('div');
            divPregunta.className = 'pregunta';
            
            const pTexto = document.createElement('p');
            pTexto.textContent = pregunta.pregunta;
            divPregunta.appendChild(pTexto);
            
            // Crear opciones de respuesta
            pregunta.opciones.forEach((opcion, index) => {
                const label = document.createElement('label');
                
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'pregunta';
                input.value = index;
                input.onclick = function() { verificarRespuesta(index); };
                
                // Verificar si ya se respondió esta pregunta
                if (respuestasUsuario[num] !== null) {
                    input.disabled = true;
                    if (index === pregunta.correcta) {
                        label.classList.add('correcta');
                    } else if (index === respuestasUsuario[num] && respuestasUsuario[num] !== pregunta.correcta) {
                        label.classList.add('incorrecta');
                    }
                }
                
                label.appendChild(input);
                label.appendChild(document.createTextNode(opcion));
                divPregunta.appendChild(label);
            });
            
            // Mostrar explicación si ya se respondió
            if (respuestasUsuario[num] !== null) {
                const divExplicacion = document.createElement('div');
                divExplicacion.className = 'explicacion';
                divExplicacion.textContent = pregunta.explicacion;
                divExplicacion.style.display = 'block';
                divPregunta.appendChild(divExplicacion);
            }
            
            form.appendChild(divPregunta);
            document.getElementById('pregunta-actual').textContent = num + 1;
            
            // Actualizar el índice
            actualizarIndice();
        }

        // Función para actualizar el índice
        function actualizarIndice() {
            const numeros = document.querySelectorAll('.numero-pregunta');
            numeros.forEach((numero, index) => {
                numero.classList.remove('respondida', 'respondida-incorrecta');
                
                if (respuestasUsuario[index] !== null) {
                    if (respuestasUsuario[index] === preguntas[index].correcta) {
                        numero.classList.add('respondida');
                    } else {
                        numero.classList.add('respondida-incorrecta');
                    }
                }
            });
        }

        // Función para verificar la respuesta seleccionada
        function verificarRespuesta(opcionSeleccionada) {
            const pregunta = preguntas[preguntaActual];
            respuestasUsuario[preguntaActual] = opcionSeleccionada;
            
            if (opcionSeleccionada === pregunta.correcta) {
                respuestasCorrectas++;
            } else if (respuestasUsuario[preguntaActual] !== null && pregunta.correcta === respuestasUsuario[preguntaActual]) {
                // Si antes estaba correcta y ahora no, restamos
                respuestasCorrectas--;
            }
            
            // Actualizar la visualización de las opciones
            mostrarPregunta(preguntaActual);
            
            // Mostrar resultado parcial
            const preguntasRespondidas = respuestasUsuario.filter(r => r !== null).length;
            const resultadoDiv = document.getElementById('resultado');
            resultadoDiv.innerHTML = `
                <p>Respuestas correctas: ${respuestasCorrectas} de ${preguntasRespondidas}</p>
                <p>Porcentaje de aciertos: ${preguntasRespondidas > 0 ? ((respuestasCorrectas / preguntasRespondidas) * 100).toFixed(1) : 0}%</p>
            `;
            resultadoDiv.style.display = 'block';
            
            // Actualizar controles de navegación
            actualizarControlesNavegacion();
        }

        // Función para actualizar controles de navegación
        function actualizarControlesNavegacion() {
            document.getElementById('anterior-btn').style.display = preguntaActual === 0 ? 'none' : 'block';
            document.getElementById('siguiente-btn').style.display = preguntaActual === preguntas.length - 1 ? 'none' : 'block';
            document.getElementById('finalizar-btn').style.display = preguntaActual === preguntas.length - 1 ? 'block' : 'none';
        }

        // Función para avanzar a la siguiente pregunta
        function siguientePregunta() {
            if (preguntaActual < preguntas.length - 1) {
                preguntaActual++;
                mostrarPregunta(preguntaActual);
                actualizarControlesNavegacion();
            }
        }

        // Función para retroceder a la pregunta anterior
        function anteriorPregunta() {
            if (preguntaActual > 0) {
                preguntaActual--;
                mostrarPregunta(preguntaActual);
                actualizarControlesNavegacion();
            }
        }

        // Función para finalizar el test
        function finalizarTest() {
            const preguntasRespondidas = respuestasUsuario.filter(r => r !== null).length;
            const resultadoFinal = `
                <h3>Test completado</h3>
                <p>Has respondido ${preguntasRespondidas} de ${preguntas.length} preguntas.</p>
                <p>Respuestas correctas: ${respuestasCorrectas} (${preguntasRespondidas > 0 ? ((respuestasCorrectas / preguntasRespondidas) * 100).toFixed(1) : 0}%)</p>
                <p>Respuestas incorrectas: ${preguntasRespondidas - respuestasCorrectas}</p>
                <p>Preguntas sin responder: ${preguntas.length - preguntasRespondidas}</p>
            `;
            document.getElementById('resultado').innerHTML = resultadoFinal;
            document.getElementById('reintentar-incorrectas-btn').style.display = 'block';
        }
        
        function reintentarIncorrectas() {
    const preguntasIncorrectas = preguntas
        .map((pregunta, index) => ({ ...pregunta, indexOriginal: index }))
        .filter((_, index) => respuestasUsuario[index] !== null && respuestasUsuario[index] !== preguntas[index].correcta);

    if (preguntasIncorrectas.length === 0) {
        alert('No has fallado ninguna pregunta.');
        return;
    }

    preguntasIncorrectas.forEach(p => {
        // Desordenar las opciones
        const opcionesOriginales = [...p.opciones];
        const correctaOriginal = p.opciones[p.correcta];

        // Mezclar opciones
        for (let i = opcionesOriginales.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [opcionesOriginales[i], opcionesOriginales[j]] = [opcionesOriginales[j], opcionesOriginales[i]];
        }

        p.opciones = opcionesOriginales;
        p.correcta = opcionesOriginales.indexOf(correctaOriginal);
    });

    // Reiniciar variables con solo las incorrectas
    preguntaActual = 0;
    respuestasCorrectas = 0;
    respuestasUsuario = Array(preguntasIncorrectas.length).fill(null);
    preguntas.splice(0, preguntas.length, ...preguntasIncorrectas); // reemplaza el array de preguntas

    // Actualizar interfaz
    document.getElementById('reintentar-incorrectas-btn').style.display = 'none';
    document.getElementById('resultado').style.display = 'none';
    document.getElementById('finalizar-btn').style.display = 'none';

    generarIndice();
    mostrarPregunta(preguntaActual);
    actualizarControlesNavegacion();
}
    </script>
    <button type="button" id="reintentar-incorrectas-btn" style="display:none;" onclick="reintentarIncorrectas()">Reintentar preguntas falladas</button>
</body>
</html>