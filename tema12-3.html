<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 12. Cuerpos de Funcionarios de la Administración de Justicia</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f9f9f9;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 15px;
        }
        .pregunta {
            margin-bottom: 25px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .pregunta p {
            font-weight: bold;
            margin-top: 0;
        }
        label {
            display: block;
            padding: 8px 0;
            cursor: pointer;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        .correcta {
            color: #27ae60;
            font-weight: bold;
        }
        .incorrecta {
            color: #e74c3c;
            text-decoration: line-through;
        }
        .respuesta-correcta {
            color: #27ae60;
            font-weight: bold;
            margin-top: 5px;
            display: none;
        }
        #resultado {
            margin-top: 30px;
            padding: 20px;
            background-color: #e8f4f8;
            border-left: 6px solid #3498db;
            border-radius: 5px;
            display: none;
        }
        #contador {
            text-align: center;
            margin-bottom: 20px;
            font-size: 18px;
            color: #7f8c8d;
        }
        button {
            background-color: #3498db;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 20px auto;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .explicacion {
            font-style: italic;
            color: #7f8c8d;
            margin-top: 5px;
            display: none;
        }
        #indice {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
            justify-content: center;
        }
        .numero-pregunta {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #ecf0f1;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
        }
        .numero-pregunta:hover {
            background-color: #bdc3c7;
        }
        .numero-pregunta.respondida {
            background-color: #2ecc71;
            color: white;
        }
        .numero-pregunta.respondida-incorrecta {
            background-color: #e74c3c;
            color: white;
        }
        .controles-navegacion {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        #anterior-btn {
            background-color: #95a5a6;
        }
        #anterior-btn:hover {
            background-color: #7f8c8d;
        }
        #finalizar-btn {
            background-color: #e67e22;
            display: none;
        }
        #finalizar-btn:hover {
            background-color: #d35400;
        }
    </style>
</head>
<body>
    <h1>Tema 12. Cuerpos de Funcionarios de la Administración de Justicia</h1>

    
    <form id="testForm">
        <!-- Las preguntas se insertarán aquí dinámicamente -->
    </form>
    
    <div class="controles-navegacion">
        <button type="button" id="anterior-btn" onclick="anteriorPregunta()">Anterior</button>
        <button type="button" id="siguiente-btn" onclick="siguientePregunta()">Siguiente</button>
        <button type="button" id="finalizar-btn" onclick="finalizarTest()">Ver resultados finales</button>
    </div>
        <div id="contador">Pregunta <span id="pregunta-actual">1</span> de <span id="total-preguntas">30</span></div>
    
    <div id="indice">
        <!-- Los números de pregunta se generarán aquí -->
    </div>
    <div id="resultado"></div>
    
    <script>
               // Reemplazar "[a-d]\) --> por "
        const preguntas = [
  {
    pregunta: "1. ¿Qué artículo de la Constitución Española regula la organización territorial del Estado?",
    opciones: [
      "a) Artículo 97",
      "b) Artículo 137",
      "c) Artículo 15",
      "d) Artículo 66"
    ],
    correcta: 1,
    explicacion: "El artículo 137 de la Constitución establece la organización territorial en municipios, provincias y Comunidades Autónomas."
  },
  {
    pregunta: "2. ¿Qué libro de la LOPJ regula los cuerpos de funcionarios al servicio de la Administración de Justicia?",
    opciones: [
      "a) Libro I",
      "b) Libro III",
      "c) Libro VI",
      "d) Libro IV"
    ],
    correcta: 2,
    explicacion: "El Libro VI de la LOPJ regula los cuerpos de funcionarios al servicio de la Administración de Justicia."
  },
  {
    pregunta: "3. ¿Qué tipo de relación jurídica tienen los funcionarios de carrera con la Administración de Justicia?",
    opciones: [
      "a) Relación laboral temporal",
      "b) Relación estatutaria permanente",
      "c) Relación mercantil",
      "d) Relación civil"
    ],
    correcta: 1,
    explicacion: "Los funcionarios de carrera mantienen una relación estatutaria de carácter permanente con la Administración de Justicia."
  },
  {
    pregunta: "4. ¿Qué órgano es competente para aprobar los reglamentos de desarrollo del Libro VI de la LOPJ?",
    opciones: [
      "a) El Consejo General del Poder Judicial",
      "b) El Gobierno o las comunidades autónomas con competencias",
      "c) Los Tribunales Superiores de Justicia",
      "d) El Ministerio del Interior"
    ],
    correcta: 1,
    explicacion: "El Gobierno o, en su caso, las comunidades autónomas con competencias, aprobarán los reglamentos de desarrollo del Libro VI de la LOPJ."
  },
  {
    pregunta: "5. ¿Qué característica define a los funcionarios interinos?",
    opciones: [
      "a) Son nombrados por razones de urgencia o necesidad",
      "b) Tienen plaza permanente",
      "c) No realizan funciones propias de los cuerpos",
      "d) Dependen del Ministerio del Interior"
    ],
    correcta: 0,
    explicacion: "Los funcionarios interinos son nombrados por razones de urgencia o necesidad hasta que desaparezcan estas circunstancias."
  },
  {
    pregunta: "6. ¿Qué tipo de personal puede auxiliar a la Administración de Justicia en actividades que requieran conocimientos técnicos?",
    opciones: [
      "a) Solo personal laboral",
      "b) Funcionarios de otras Administraciones",
      "c) Exclusivamente voluntarios",
      "d) Solo estudiantes en prácticas"
    ],
    correcta: 1,
    explicacion: "Funcionarios de otras Administraciones pueden prestar servicios para actividades que requieran conocimientos técnicos o especializados."
  },
  {
    pregunta: "7. ¿Qué norma tiene carácter supletorio para los funcionarios de la Administración de Justicia?",
    opciones: [
      "a) La Ley de Contratos del Sector Público",
      "b) La normativa estatal sobre Función Pública",
      "c) El Código Penal",
      "d) La Ley de Enjuiciamiento Civil"
    ],
    correcta: 1,
    explicacion: "La normativa estatal sobre Función Pública tiene carácter supletorio para lo no regulado expresamente en la LOPJ y sus disposiciones de desarrollo."
  },
  {
    pregunta: "8. ¿Qué información se anota preceptivamente en el Registro Central de Personal?",
    opciones: [
      "a) Solo los ascensos",
      "b) Todos los actos que afecten a la vida administrativa de los funcionarios",
      "c) Exclusivamente las sanciones",
      "d) Solo los datos económicos"
    ],
    correcta: 1,
    explicacion: "En el Registro se anotan preceptivamente todos los actos que afecten a la vida administrativa de los funcionarios."
  },
  {
    pregunta: "9. ¿Qué dato NO aparece en el escalafón de los funcionarios de carrera?",
    opciones: [
      "a) Documento nacional de identidad",
      "b) Nombre y apellidos",
      "c) Tiempo de servicios en el Cuerpo",
      "d) Orientación política"
    ],
    correcta: 3,
    explicacion: "El escalafón incluye DNI, nombre y apellidos, y tiempo de servicios, pero nunca datos como orientación política."
  },
  {
    pregunta: "10. ¿Qué diferencia esencial existe entre los Cuerpos Generales y Especiales?",
    opciones: [
      "a) Los Generales realizan solo funciones administrativas",
      "b) Los Especiales requieren titulación específica para sus funciones profesionales",
      "c) Los Generales no requieren formación",
      "d) Los Especiales son temporales"
    ],
    correcta: 1,
    explicacion: "Los Cuerpos Especiales se caracterizan por requerir una titulación específica para el desempeño de funciones profesionales concretas."
  },
  {
    pregunta: "11. ¿Qué titulación permite el acceso al Cuerpo de Gestión Procesal y Administrativa?",
    opciones: [
      "a) Bachiller",
      "b) Graduado en ESO",
      "c) Diplomado Universitario o equivalente",
      "d) Doctorado"
    ],
    correcta: 2,
    explicacion: "Se exige titulación de Diplomado Universitario, Ingeniero Técnico, Arquitecto Técnico o equivalente."
  },
  {
    pregunta: "12. ¿Qué titulación se requiere para el Cuerpo de Tramitación Procesal y Administrativa?",
    opciones: [
      "a) Graduado en ESO",
      "b) Bachiller o equivalente",
      "c) Licenciatura universitaria",
      "d) Formación Profesional de Grado Medio"
    ],
    correcta: 1,
    explicacion: "Se exige título de Bachiller o equivalente para acceder a este cuerpo."
  },
  {
    pregunta: "13. ¿Qué titulación necesitan los aspirantes al Cuerpo de Auxilio Judicial?",
    opciones: [
      "a) Sin titulación requerida",
      "b) Graduado en ESO o equivalente",
      "c) Bachiller",
      "d) Formación Profesional Superior"
    ],
    correcta: 1,
    explicacion: "Se requiere título de Graduado en ESO o equivalente para ingresar en el Cuerpo de Auxilio Judicial."
  },
  {
    pregunta: "14. ¿Qué dos titulaciones son necesarias para acceder al Cuerpo de Médicos Forenses?",
    opciones: [
      "a) Medicina y Derecho",
      "b) Medicina y Especialidad en Medicina Forense",
      "c) Biología y Química",
      "d) Psicología y Medicina"
    ],
    correcta: 1,
    explicacion: "Se exige titulación de Licenciado/Graduado en Medicina y de Especialista en Medicina Forense."
  },
  {
    pregunta: "15. ¿Qué ámbito científico deben tener las titulaciones de los Facultativos del Instituto Nacional de Toxicología?",
    opciones: [
      "a) Ciencias Experimentales y de la Salud",
      "b) Ciencias Sociales",
      "c) Humanidades",
      "d) Ingenierías"
    ],
    correcta: 0,
    explicacion: "Deben ser licenciados en carreras universitarias de Ciencias Experimentales y de la Salud."
  },
  {
    pregunta: "16. ¿Qué nivel de Formación Profesional se exige para los Técnicos Especialistas del Instituto Nacional de Toxicología?",
    opciones: [
      "a) Grado Medio",
      "b) Grado Superior",
      "c) Certificados de Profesionalidad",
      "d) Bachillerato"
    ],
    correcta: 1,
    explicacion: "Se exige título de Técnico Superior en Formación Profesional o equivalente."
  },
  {
    pregunta: "17. ¿Qué nivel de Formación Profesional necesitan los Ayudantes de Laboratorio?",
    opciones: [
      "a) Grado Medio",
      "b) Grado Superior",
      "c) Doctorado",
      "d) Bachillerato"
    ],
    correcta: 0,
    explicacion: "Se exige título de Técnico en Formación Profesional (Grado Medio) o equivalente."
  },
  {
    pregunta: "18. ¿Qué función NO realizan los médicos forenses?",
    opciones: [
      "a) Asistencia técnica a Juzgados",
      "b) Vigilancia facultativa de detenidos",
      "c) Emisión de informes para el Registro Civil",
      "d) Representación legal de imputados"
    ],
    correcta: 3,
    explicacion: "Los médicos forenses no realizan funciones de representación legal, que corresponden a abogados."
  },
  {
    pregunta: "19. ¿Qué principio rige el ejercicio de sus funciones por los médicos forenses?",
    opciones: [
      "a) Independencia y criterios científicos",
      "b) Subordinación política",
      "c) Criterios económicos",
      "d) Orientación religiosa"
    ],
    correcta: 0,
    explicacion: "Ejercen sus funciones con plena independencia y bajo criterios estrictamente científicos."
  },
  {
    pregunta: "20. ¿Dónde desarrollan principalmente su trabajo los médicos forenses?",
    opciones: [
      "a) En comisarías de policía",
      "b) En Institutos de Medicina Legal o en el Instituto Nacional de Toxicología",
      "c) En hospitales públicos",
      "d) En universidades"
    ],
    correcta: 1,
    explicacion: "Están destinados en Institutos de Medicina Legal y Ciencias Forenses o en el Instituto Nacional de Toxicología y Ciencias Forenses."
  },
  {
    pregunta: "21. ¿Qué profesionales complementarios trabajan en los Institutos de Medicina Legal?",
    opciones: [
      "a) Solo médicos",
      "b) Psicólogos, trabajadores sociales y personal laboral determinado",
      "c) Exclusivamente abogados",
      "d) Solo policías científicos"
    ],
    correcta: 1,
    explicacion: "Además de médicos, pueden prestar servicios psicólogos, trabajadores sociales y otro personal laboral determinado."
  },
  {
    pregunta: "22. ¿Qué órgano NO forma parte de la estructura del Instituto de Medicina Legal?",
    opciones: [
      "a) Servicio de Patología Forense",
      "b) Servicio de Clínica Médico Forense",
      "c) Comisión de Docencia e Investigación",
      "d) Sala de Audiencias"
    ],
    correcta: 3,
    explicacion: "Las salas de audiencias son órganos judiciales, no forman parte de la estructura de los Institutos de Medicina Legal."
  },
  {
    pregunta: "23. ¿En qué ciudades debe establecerse al menos un Instituto de Medicina Legal?",
    opciones: [
      "a) En todas las capitales de provincia",
      "b) En ciudades con Tribunal Superior de Justicia",
      "c) En municipios con más de 50.000 habitantes",
      "d) Solo en Madrid y Barcelona"
    ],
    correcta: 1,
    explicacion: "Debe existir un Instituto en cada ciudad donde tenga su sede un Tribunal Superior de Justicia."
  },
  {
    pregunta: "24. ¿Qué unidades deben tener los Institutos de Medicina Legal?",
    opciones: [
      "a) Unidades de valoración forense integral",
      "b) Unidades de hospitalización",
      "c) Unidades de custodia",
      "d) Unidades de seguridad"
    ],
    correcta: 0,
    explicacion: "Deben contar con unidades de valoración forense integral para atención especializada, especialmente en violencia de género."
  },
  {
    pregunta: "25. ¿Qué formación específica requiere el personal de los equipos técnicos de menores?",
    opciones: [
      "a) Solo en derecho procesal",
      "b) En familia, menores, discapacidad y violencia de género",
      "c) Exclusivamente en psicología infantil",
      "d) En contabilidad pública"
    ],
    correcta: 1,
    explicacion: "Requieren formación especializada en familia, menores, personas con discapacidad y violencia de género."
  },
  {
    pregunta: "26. ¿Qué tipo de norma regula la organización de los Institutos de Medicina Legal?",
    opciones: [
      "a) Orden ministerial",
      "b) Real decreto",
      "c) Instrucción judicial",
      "d) Circular interna"
    ],
    correcta: 1,
    explicacion: "Mediante real decreto se determinan las normas generales de organización y funcionamiento."
  },
  {
    pregunta: "27. ¿Qué tipo de órgano es el Instituto Nacional de Toxicología y Ciencias Forenses?",
    opciones: [
      "a) Órgano judicial",
      "b) Órgano técnico adscrito al Ministerio de Justicia",
      "c) Organismo autónomo",
      "d) Entidad privada"
    ],
    correcta: 1,
    explicacion: "Es un órgano técnico adscrito al Ministerio de Justicia."
  },
  {
    pregunta: "28. ¿Qué ámbito territorial tiene el Instituto Nacional de Toxicología?",
    opciones: [
      "a) Autonómico",
      "b) Nacional",
      "c) Europeo",
      "d) Mundial"
    ],
    correcta: 1,
    explicacion: "Su ámbito de actuación se extiende a todo el territorio nacional."
  },
  {
    pregunta: "29. ¿Qué función NO corresponde al Instituto Nacional de Toxicología?",
    opciones: [
      "a) Emitir informes periciales",
      "b) Practicar análisis toxicológicos",
      "c) Actuar como centro de referencia",
      "d) Juzgar delitos"
    ],
    correcta: 3,
    explicacion: "El Instituto no tiene funciones jurisdiccionales de juzgar delitos."
  },
  {
    pregunta: "30. ¿Qué autoridades pueden solicitar análisis al Instituto Nacional de Toxicología?",
    opciones: [
      "a) Solo autoridades judiciales",
      "b) Autoridades judiciales, gubernativas y médicos forenses",
      "c) Solo particulares",
      "d) Solo universidades"
    ],
    correcta: 1,
    explicacion: "Puede realizar análisis solicitados por autoridades judiciales, gubernativas, el Ministerio Fiscal y médicos forenses."
  },
  {
    pregunta: "31. ¿Qué función de interés público realiza el Instituto Nacional de Toxicología?",
    opciones: [
      "a) Prevención de intoxicaciones",
      "b) Control de fronteras",
      "c) Vigilancia penitenciaria",
      "d) Inspección educativa"
    ],
    correcta: 0,
    explicacion: "Entre sus funciones está contribuir a la prevención de intoxicaciones y atender consultas sobre las mismas."
  },
  {
    pregunta: "32. ¿Con qué instituciones puede colaborar el Instituto Nacional de Toxicología?",
    opciones: [
      "a) Solo con universidades españolas",
      "b) Con universidades, instituciones sanitarias y organismos nacionales e internacionales",
      "c) Exclusivamente con hospitales",
      "d) Solo con laboratorios privados"
    ],
    correcta: 1,
    explicacion: "Puede colaborar con universidades, instituciones sanitarias y organismos nacionales e internacionales en materias relacionadas con su actividad."
  },
  {
    pregunta: "33. ¿Cómo se establece la estructura del Instituto Nacional de Toxicología?",
    opciones: [
      "a) Por decisión de su director",
      "b) Mediante real decreto",
      "c) Por acuerdo de las comunidades autónomas",
      "d) Por convenio colectivo"
    ],
    correcta: 1,
    explicacion: "Su estructura orgánica se determina mediante real decreto."
  },
  {
    pregunta: "34. ¿Qué personal puede trabajar en el Instituto Nacional de Toxicología además de sus cuerpos especiales?",
    opciones: [
      "a) Solo personal laboral",
      "b) Funcionarios de otros cuerpos, de otras administraciones y personal laboral",
      "c) Exclusivamente voluntarios",
      "d) Solo estudiantes"
    ],
    correcta: 1,
    explicacion: "Pueden prestar servicios diversos tipos de personal según las necesidades y relaciones de puestos de trabajo."
  },
  {
    pregunta: "35. ¿De quién dependen jerárquicamente los funcionarios del Instituto Nacional de Toxicología?",
    opciones: [
      "a) Del juez decano",
      "b) Del director del Instituto o del director del Instituto de Medicina Legal donde presten servicios",
      "c) Del Ministerio del Interior",
      "d) De las comunidades autónomas"
    ],
    correcta: 1,
    explicacion: "Dependen jerárquicamente del director correspondiente según donde presten servicios."
  },
  {
    pregunta: "36. ¿Qué funciones realizan los Facultativos del Instituto Nacional de Toxicología?",
    opciones: [
      "a) Solo investigación",
      "b) Asistencia técnica, análisis, informes y prevención de intoxicaciones",
      "c) Exclusivamente docencia",
      "d) Solo gestión administrativa"
    ],
    correcta: 1,
    explicacion: "Sus funciones incluyen múltiples actividades técnicas y científicas propias de su especialidad."
  },
  {
    pregunta: "37. ¿Dónde pueden prestar servicios los Facultativos del Instituto Nacional de Toxicología?",
    opciones: [
      "a) Solo en la sede central",
      "b) En el Instituto y otras unidades según relaciones de puestos",
      "c) Solo en el extranjero",
      "d) Solo en universidades"
    ],
    correcta: 1,
    explicacion: "Pueden prestar servicios en diferentes ubicaciones según lo establecido en las relaciones de puestos de trabajo."
  },
  {
    pregunta: "38. ¿Qué funciones realizan los Técnicos Especialistas del Instituto Nacional de Toxicología?",
    opciones: [
      "a) Solo tareas administrativas",
      "b) Auxilio técnico especializado en actividades científicas",
      "c) Exclusivamente atención al público",
      "d) Solo mantenimiento de equipos"
    ],
    correcta: 1,
    explicacion: "Realizan funciones de auxilio técnico especializado en actividades científicas y de investigación."
  },
  {
    pregunta: "39. ¿Qué posibilidad de promoción interna tienen los Técnicos Especialistas?",
    opciones: [
      "a) Acceder al Cuerpo de Médicos Forenses",
      "b) Acceder al Cuerpo de Facultativos si reúnen requisitos",
      "c) No tienen promoción interna",
      "d) Solo ascender dentro de su mismo cuerpo"
    ],
    correcta: 1,
    explicacion: "Pueden acceder al Cuerpo de Facultativos si reúnen los requisitos necesarios."
  },
  {
    pregunta: "40. ¿Qué funciones realizan los Ayudantes de Laboratorio?",
    opciones: [
      "a) Solo limpieza de material",
      "b) Funciones de apoyo según su formación",
      "c) Exclusivamente atención telefónica",
      "d) Solo transporte de muestras"
    ],
    correcta: 1,
    explicacion: "Realizan funciones de apoyo propias de su formación en las actividades científicas del Instituto."
  },
  {
    pregunta: "41. ¿Qué régimen jurídico regula al personal laboral de la Administración de Justicia?",
    opciones: [
      "a) Solo la LOPJ",
      "b) Disposiciones legales, reglamentarias, convenio colectivo y contrato",
      "c) Exclusivamente normas autonómicas",
      "d) Solo decisiones judiciales"
    ],
    correcta: 1,
    explicacion: "Se rige por disposiciones legales, reglamentarias, convenio colectivo aplicable y su contrato de trabajo."
  },
  {
    pregunta: "42. ¿Qué régimen se aplica a los funcionarios interinos respecto a clases pasivas?",
    opciones: [
      "a) Les es aplicable totalmente",
      "b) No les es aplicable",
      "c) Les es aplicable parcialmente",
      "d) Depende de cada comunidad autónoma"
    ],
    correcta: 1,
    explicacion: "A los funcionarios interinos no les es aplicable el régimen de clases pasivas."
  },
  {
    pregunta: "43. ¿Qué régimen se aplica a funcionarios de otras administraciones que presten servicios en la Administración de Justicia?",
    opciones: [
      "a) El régimen de la Administración de Justicia",
      "b) La normativa de su administración de origen",
      "c) Un régimen especial",
      "d) El régimen laboral"
    ],
    correcta: 1,
    explicacion: "Se aplica lo dispuesto en la normativa de la administración pública de la que procedan."
  },
  {
    pregunta: "44. ¿En qué caso puede contratarse personal laboral en la Administración de Justicia?",
    opciones: [
      "a) Siempre que haya presupuesto",
      "b) Cuando no existan cuerpos con la preparación técnica necesaria",
      "c) Solo para sustituir vacaciones",
      "d) Para cualquier función"
    ],
    correcta: 1,
    explicacion: "Puede contratarse personal laboral cuando no existan cuerpos con la preparación técnica necesaria para ciertas actividades."
  },
  {
    pregunta: "45. ¿Qué información contiene el Registro Central de Personal?",
    opciones: [
      "a) Solo datos personales",
      "b) Datos de personal y puestos de trabajo",
      "c) Exclusivamente nóminas",
      "d) Solo datos de formación"
    ],
    correcta: 1,
    explicacion: "Incluye información sobre el personal y sobre los puestos de trabajo, su situación y ocupación."
  },
  {
    pregunta: "46. ¿Quién aprueba las normas sobre el contenido del Registro Central de Personal?",
    opciones: [
      "a) Las comunidades autónomas",
      "b) El Ministerio de Justicia",
      "c) El Consejo General del Poder Judicial",
      "d) Los sindicatos"
    ],
    correcta: 1,
    explicacion: "El Ministerio de Justicia aprueba las normas sobre la información que debe contener el Registro."
  },
  {
    pregunta: "47. ¿Qué garantiza el procedimiento de actualización de datos en los registros?",
    opciones: [
      "a) Solo actualización anual",
      "b) Inmediata anotación de datos y estados de ocupación",
      "c) Eliminación de datos históricos",
      "d) Solo actualización de datos personales"
    ],
    correcta: 1,
    explicacion: "Garantiza la inmediata anotación de datos de personal y estados de ocupación de puestos de trabajo."
  },
  {
    pregunta: "48. ¿Qué principio rige la actuación de los médicos forenses en procesos judiciales?",
    opciones: [
      "a) Independencia y criterios científicos",
      "b) Subordinación al Ministerio del Interior",
      "c) Orientación política",
      "d) Criterios económicos"
    ],
    correcta: 0,
    explicacion: "Actúan con plena independencia y bajo criterios estrictamente científicos en procesos judiciales."
  },
  {
    pregunta: "49. ¿Qué tipo de informes pueden emitir los médicos forenses a particulares?",
    opciones: [
      "a) Ninguno",
      "b) Solo informes económicos",
      "c) Informes y dictámenes en condiciones reglamentarias",
      "d) Solo certificados de defunción"
    ],
    correcta: 2,
    explicacion: "Pueden emitir informes y dictámenes a particulares en las condiciones que se determinen reglamentariamente."
  },
  {
    pregunta: "50. ¿Qué formación específica debe tener el personal de las unidades de valoración forense integral?",
    opciones: [
      "a) Solo en derecho procesal",
      "b) En violencia de género y atención especializada a víctimas",
      "c) Exclusivamente en psicología clínica",
      "d) En contabilidad forense"
    ],
    correcta: 1,
    explicacion: "Deben tener formación para garantizar asistencia especializada a víctimas de violencia de género entre otras funciones."
  }
];

        let preguntaActual = 0;
        let respuestasCorrectas = 0;
        let respuestasUsuario = Array(preguntas.length).fill(null);

        // Mostrar la primera pregunta al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
        preguntas.forEach(p => {
            // Guardamos la opción correcta original
            const correctaOriginal = p.opciones[p.correcta];
            // Mezclamos las opciones
            p.opciones = mezclarArray(p.opciones);
            // Actualizamos el índice de la nueva correcta
            p.correcta = p.opciones.indexOf(correctaOriginal);
        });

            document.getElementById('total-preguntas').textContent = preguntas.length;
            generarIndice();
            mostrarPregunta(preguntaActual);
            actualizarControlesNavegacion();
        });
        
        //para mezclar
            function mezclarArray(array) {
            const copia = [...array];
            for (let i = copia.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [copia[i], copia[j]] = [copia[j], copia[i]];
            }
            return copia;
            }

        


        // Función para generar el índice de preguntas
        function generarIndice() {
            const indice = document.getElementById('indice');
            indice.innerHTML = '';
            
            preguntas.forEach((_, index) => {
                const numero = document.createElement('div');
                numero.className = 'numero-pregunta';
                numero.textContent = index + 1;
                numero.onclick = function() { irAPregunta(index); };
                indice.appendChild(numero);
            });
        }

        // Función para ir a una pregunta específica
        function irAPregunta(num) {
            preguntaActual = num;
            mostrarPregunta(preguntaActual);
            actualizarControlesNavegacion();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Función para mostrar una pregunta
        function mostrarPregunta(num) {
            const form = document.getElementById('testForm');
            form.innerHTML = '';
            
            const pregunta = preguntas[num];
            
            const divPregunta = document.createElement('div');
            divPregunta.className = 'pregunta';
            
            const pTexto = document.createElement('p');
            pTexto.textContent = pregunta.pregunta;
            divPregunta.appendChild(pTexto);
            
            // Crear opciones de respuesta
            pregunta.opciones.forEach((opcion, index) => {
                const label = document.createElement('label');
                
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'pregunta';
                input.value = index;
                input.onclick = function() { verificarRespuesta(index); };
                
                // Verificar si ya se respondió esta pregunta
                if (respuestasUsuario[num] !== null) {
                    input.disabled = true;
                    if (index === pregunta.correcta) {
                        label.classList.add('correcta');
                    } else if (index === respuestasUsuario[num] && respuestasUsuario[num] !== pregunta.correcta) {
                        label.classList.add('incorrecta');
                    }
                }
                
                label.appendChild(input);
                label.appendChild(document.createTextNode(opcion));
                divPregunta.appendChild(label);
            });
            
            // Mostrar explicación si ya se respondió
            if (respuestasUsuario[num] !== null) {
                const divExplicacion = document.createElement('div');
                divExplicacion.className = 'explicacion';
                divExplicacion.textContent = pregunta.explicacion;
                divExplicacion.style.display = 'block';
                divPregunta.appendChild(divExplicacion);
            }
            
            form.appendChild(divPregunta);
            document.getElementById('pregunta-actual').textContent = num + 1;
            
            // Actualizar el índice
            actualizarIndice();
        }

        // Función para actualizar el índice
        function actualizarIndice() {
            const numeros = document.querySelectorAll('.numero-pregunta');
            numeros.forEach((numero, index) => {
                numero.classList.remove('respondida', 'respondida-incorrecta');
                
                if (respuestasUsuario[index] !== null) {
                    if (respuestasUsuario[index] === preguntas[index].correcta) {
                        numero.classList.add('respondida');
                    } else {
                        numero.classList.add('respondida-incorrecta');
                    }
                }
            });
        }

        // Función para verificar la respuesta seleccionada
        function verificarRespuesta(opcionSeleccionada) {
            const pregunta = preguntas[preguntaActual];
            respuestasUsuario[preguntaActual] = opcionSeleccionada;
            
            if (opcionSeleccionada === pregunta.correcta) {
                respuestasCorrectas++;
            } else if (respuestasUsuario[preguntaActual] !== null && pregunta.correcta === respuestasUsuario[preguntaActual]) {
                // Si antes estaba correcta y ahora no, restamos
                respuestasCorrectas--;
            }
            
            // Actualizar la visualización de las opciones
            mostrarPregunta(preguntaActual);
            
            // Mostrar resultado parcial
            const preguntasRespondidas = respuestasUsuario.filter(r => r !== null).length;
            const resultadoDiv = document.getElementById('resultado');
            resultadoDiv.innerHTML = `
                <p>Respuestas correctas: ${respuestasCorrectas} de ${preguntasRespondidas}</p>
                <p>Porcentaje de aciertos: ${preguntasRespondidas > 0 ? ((respuestasCorrectas / preguntasRespondidas) * 100).toFixed(1) : 0}%</p>
            `;
            resultadoDiv.style.display = 'block';
            
            // Actualizar controles de navegación
            actualizarControlesNavegacion();
        }

        // Función para actualizar controles de navegación
        function actualizarControlesNavegacion() {
            document.getElementById('anterior-btn').style.display = preguntaActual === 0 ? 'none' : 'block';
            document.getElementById('siguiente-btn').style.display = preguntaActual === preguntas.length - 1 ? 'none' : 'block';
            document.getElementById('finalizar-btn').style.display = preguntaActual === preguntas.length - 1 ? 'block' : 'none';
        }

        // Función para avanzar a la siguiente pregunta
        function siguientePregunta() {
            if (preguntaActual < preguntas.length - 1) {
                preguntaActual++;
                mostrarPregunta(preguntaActual);
                actualizarControlesNavegacion();
            }
        }

        // Función para retroceder a la pregunta anterior
        function anteriorPregunta() {
            if (preguntaActual > 0) {
                preguntaActual--;
                mostrarPregunta(preguntaActual);
                actualizarControlesNavegacion();
            }
        }

        // Función para finalizar el test
        function finalizarTest() {
            const preguntasRespondidas = respuestasUsuario.filter(r => r !== null).length;
            const resultadoFinal = `
                <h3>Test completado</h3>
                <p>Has respondido ${preguntasRespondidas} de ${preguntas.length} preguntas.</p>
                <p>Respuestas correctas: ${respuestasCorrectas} (${preguntasRespondidas > 0 ? ((respuestasCorrectas / preguntasRespondidas) * 100).toFixed(1) : 0}%)</p>
                <p>Respuestas incorrectas: ${preguntasRespondidas - respuestasCorrectas}</p>
                <p>Preguntas sin responder: ${preguntas.length - preguntasRespondidas}</p>
            `;
            document.getElementById('resultado').innerHTML = resultadoFinal;
            document.getElementById('reintentar-incorrectas-btn').style.display = 'block';
        }
        
        function reintentarIncorrectas() {
    const preguntasIncorrectas = preguntas
        .map((pregunta, index) => ({ ...pregunta, indexOriginal: index }))
        .filter((_, index) => respuestasUsuario[index] !== null && respuestasUsuario[index] !== preguntas[index].correcta);

    if (preguntasIncorrectas.length === 0) {
        alert('No has fallado ninguna pregunta.');
        return;
    }

    preguntasIncorrectas.forEach(p => {
        // Desordenar las opciones
        const opcionesOriginales = [...p.opciones];
        const correctaOriginal = p.opciones[p.correcta];

        // Mezclar opciones
        for (let i = opcionesOriginales.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [opcionesOriginales[i], opcionesOriginales[j]] = [opcionesOriginales[j], opcionesOriginales[i]];
        }

        p.opciones = opcionesOriginales;
        p.correcta = opcionesOriginales.indexOf(correctaOriginal);
    });

    // Reiniciar variables con solo las incorrectas
    preguntaActual = 0;
    respuestasCorrectas = 0;
    respuestasUsuario = Array(preguntasIncorrectas.length).fill(null);
    preguntas.splice(0, preguntas.length, ...preguntasIncorrectas); // reemplaza el array de preguntas

    // Actualizar interfaz
    document.getElementById('reintentar-incorrectas-btn').style.display = 'none';
    document.getElementById('resultado').style.display = 'none';
    document.getElementById('finalizar-btn').style.display = 'none';

    generarIndice();
    mostrarPregunta(preguntaActual);
    actualizarControlesNavegacion();
}
    </script>
    <button type="button" id="reintentar-incorrectas-btn" style="display:none;" onclick="reintentarIncorrectas()">Reintentar preguntas falladas</button>
</body>
</html>