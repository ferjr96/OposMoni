<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 11. El Letrado de la Administración de Justicia</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f9f9f9;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 15px;
        }
        .pregunta {
            margin-bottom: 25px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .pregunta p {
            font-weight: bold;
            margin-top: 0;
        }
        label {
            display: block;
            padding: 8px 0;
            cursor: pointer;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        .correcta {
            color: #27ae60;
            font-weight: bold;
        }
        .incorrecta {
            color: #e74c3c;
            text-decoration: line-through;
        }
        .respuesta-correcta {
            color: #27ae60;
            font-weight: bold;
            margin-top: 5px;
            display: none;
        }
        #resultado {
            margin-top: 30px;
            padding: 20px;
            background-color: #e8f4f8;
            border-left: 6px solid #3498db;
            border-radius: 5px;
            display: none;
        }
        #contador {
            text-align: center;
            margin-bottom: 20px;
            font-size: 18px;
            color: #7f8c8d;
        }
        button {
            background-color: #3498db;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 20px auto;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .explicacion {
            font-style: italic;
            color: #7f8c8d;
            margin-top: 5px;
            display: none;
        }
        #indice {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
            justify-content: center;
        }
        .numero-pregunta {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #ecf0f1;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
        }
        .numero-pregunta:hover {
            background-color: #bdc3c7;
        }
        .numero-pregunta.respondida {
            background-color: #2ecc71;
            color: white;
        }
        .numero-pregunta.respondida-incorrecta {
            background-color: #e74c3c;
            color: white;
        }
        .controles-navegacion {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        #anterior-btn {
            background-color: #95a5a6;
        }
        #anterior-btn:hover {
            background-color: #7f8c8d;
        }
        #finalizar-btn {
            background-color: #e67e22;
            display: none;
        }
        #finalizar-btn:hover {
            background-color: #d35400;
        }
    </style>
</head>
<body>
    <h1>Tema 11. El Letrado de la Administración de Justicia</h1>

    
    <form id="testForm">
        <!-- Las preguntas se insertarán aquí dinámicamente -->
    </form>
    
    <div class="controles-navegacion">
        <button type="button" id="anterior-btn" onclick="anteriorPregunta()">Anterior</button>
        <button type="button" id="siguiente-btn" onclick="siguientePregunta()">Siguiente</button>
        <button type="button" id="finalizar-btn" onclick="finalizarTest()">Ver resultados finales</button>
    </div>
        <div id="contador">Pregunta <span id="pregunta-actual">1</span> de <span id="total-preguntas">30</span></div>
    
    <div id="indice">
        <!-- Los números de pregunta se generarán aquí -->
    </div>
    <div id="resultado"></div>
    
    <script>
               // Reemplazar "[a-d]\) --> por "
        const preguntas = [
  {
    pregunta: "1. ¿Qué principio rige la actuación general de los Letrados de la Administración de Justicia?",
    opciones: [
      "a) Legalidad e imparcialidad",
      "b) Eficiencia y rapidez",
      "c) Discrecionalidad técnica",
      "d) Jerarquía funcional"
    ],
    correcta: 0,
    explicacion: "Los Letrados desempeñarán sus funciones con sujeción a los principios de legalidad e imparcialidad, en todo caso."
  },
  {
    pregunta: "2. ¿Qué tipo de actos documentan los Letrados en ejercicio de la fe pública judicial?",
    opciones: [
      "a) Solo los actos procesales",
      "b) Actos procesales y hechos con trascendencia procesal",
      "c) Solo acuerdos de las Salas de Gobierno",
      "d) Actos administrativos del Ministerio"
    ],
    correcta: 1,
    explicacion: "Dejan constancia fehaciente de actos procesales en el Tribunal y de hechos con trascendencia procesal mediante actas y diligencias."
  },
  {
    pregunta: "3. ¿Qué certificaciones pueden expedir los Letrados?",
    opciones: [
      "a) Solo de actuaciones no secretas",
      "b) De todas las actuaciones sin excepción",
      "c) Solo con autorización judicial",
      "d) Únicamente a las partes procesales"
    ],
    correcta: 0,
    explicacion: "Expedirán certificaciones o testimonios de las actuaciones judiciales no declaradas secretas ni reservadas a las partes."
  },
  {
    pregunta: "4. ¿En qué casos los Letrados autorizan poderes para pleitos?",
    opciones: [
      "a) Siempre que lo solicite un procurador",
      "b) En los términos establecidos en las leyes procesales",
      "c) Solo para procedimientos penales",
      "d) Cuando el Juez lo ordene"
    ],
    correcta: 1,
    explicacion: "Autorizarán y documentarán el otorgamiento de poderes para pleitos en los términos establecidos en las leyes procesales."
  },
  {
    pregunta: "5. ¿Qué responsabilidad tienen los Letrados respecto a la formación de autos y expedientes?",
    opciones: [
      "a) Supervisar su formación",
      "b) Ser responsables de esta función",
      "c) Solo revisarlos antes del archivo",
      "d) Delegarla en funcionarios"
    ],
    correcta: 1,
    explicacion: "Son responsables de la función de documentación y de la formación de los autos y expedientes."
  },
  {
    pregunta: "6. ¿Qué tipo de resoluciones dictan los Letrados para impulsar el proceso?",
    opciones: [
      "a) Autos y sentencias",
      "b) Diligencias y decretos",
      "c) Providencias y mandamientos",
      "d) Instrucciones y circulares"
    ],
    correcta: 1,
    explicacion: "Dictarán diligencias (de ordenación, constancia, comunicación o ejecución) y decretos cuando sea preciso razonar la decisión."
  },
  {
    pregunta: "7. ¿Qué contenido debe tener un decreto dictado por un Letrado?",
    opciones: [
      "a) Solo los fundamentos de derecho",
      "b) Antecedentes de hecho y fundamentos de derecho en párrafos separados",
      "c) Una exposición sucinta",
      "d) La petición de las partes"
    ],
    correcta: 1,
    explicacion: "El decreto contendrá, en párrafos separados y numerados, los antecedentes de hecho y los fundamentos de derecho en que se basa."
  },
  {
    pregunta: "8. ¿Qué garantía deben proporcionar los Letrados respecto al reparto de asuntos?",
    opciones: [
      "a) Que se realiza conforme a normas aprobadas por las Salas de Gobierno",
      "b) Que favorezca la especialización",
      "c) Que sea aleatorio sin criterios previos",
      "d) Que responda a carga de trabajo"
    ],
    correcta: 0,
    explicacion: "Garantizarán que el reparto se realiza de conformidad con las normas que aprueben las Salas de Gobierno."
  },
  {
    pregunta: "9. ¿Qué responsabilidad tienen los Letrados respecto al registro de recepción de documentos?",
    opciones: [
      "a) Supervisión mensual",
      "b) Responsabilidad de su buen funcionamiento",
      "c) Solo en procedimientos especiales",
      "d) Delegable en funcionarios"
    ],
    correcta: 1,
    explicacion: "Son responsables del buen funcionamiento del registro de recepción de documentos."
  },
  {
    pregunta: "10. ¿En qué consiste la función de dación de cuenta que organizan los Letrados?",
    opciones: [
      "a) En rendir cuentas económicas",
      "b) En presentar estadísticas anuales",
      "c) En los términos establecidos en las leyes procesales",
      "d) En informar a las partes"
    ],
    correcta: 2,
    explicacion: "Organizan la dación de cuenta en los términos establecidos en las leyes procesales."
  },
  {
    pregunta: "11. ¿Qué actos documentan los Letrados cuando consideran necesaria su intervención?",
    opciones: [
      "a) Todos los actos procesales",
      "b) Embargos, lanzamientos y actos análogos",
      "c) Solo las vistas orales",
      "d) Las deliberaciones judiciales"
    ],
    correcta: 1,
    explicacion: "Documentarán los embargos, lanzamientos y demás actos cuya naturaleza lo requiera cuando consideren necesaria su intervención."
  },
  {
    pregunta: "12. ¿Qué función directiva tienen los Letrados en la Oficina judicial?",
    opciones: [
      "a) Solo en aspectos administrativos",
      "b) Organización, gestión e inspección en aspectos técnicos procesales",
      "c) Designación de personal",
      "d) Elaboración de presupuestos"
    ],
    correcta: 1,
    explicacion: "Les compete la organización, gestión, inspección y dirección del personal en aspectos técnicos procesales."
  },
  {
    pregunta: "13. ¿Qué deben hacer los Letrados respecto a las órdenes de sus superiores jerárquicos?",
    opciones: [
      "a) Cumplirlas en su ámbito organizativo y funcional",
      "b) Solo las del Secretario General",
      "c) Analizar su constitucionalidad",
      "d) Solicitar ratificación judicial"
    ],
    correcta: 0,
    explicacion: "Deben hacer cumplir las órdenes y circulares que reciban de sus superiores jerárquicos en su ámbito organizativo y funcional."
  },
  {
    pregunta: "14. ¿Quién elabora los protocolos de actuación en los procedimientos?",
    opciones: [
      "a) El Consejo General del Poder Judicial",
      "b) El Secretario Coordinador Provincial",
      "c) Cada Letrado para su juzgado",
      "d) Las Comunidades Autónomas"
    ],
    correcta: 1,
    explicacion: "El protocolo será elaborado por el Secretario Coordinador Provincial y aprobado por el Secretario de Gobierno."
  },
  {
    pregunta: "15. ¿Qué adaptación deben tener los protocolos de actuación?",
    opciones: [
      "a) Al diseño del Servicio Común establecido",
      "b) Solo a la normativa estatal",
      "c) A criterios personales del Letrado",
      "d) A las instrucciones de las partes"
    ],
    correcta: 0,
    explicacion: "Los protocolos se adaptarán al diseño y organización del Servicio Común establecido por la Administración competente."
  },
  {
    pregunta: "16. ¿Qué colaboración deben prestar los Letrados a las Comunidades Autónomas?",
    opciones: [
      "a) Solo en materia estadística",
      "b) Para efectividad de sus funciones en organización de medios",
      "c) Únicamente cuando lo ordene el juez",
      "d) En la redacción de normas autonómicas"
    ],
    correcta: 1,
    explicacion: "Colaborarán para la efectividad de las funciones que ostenten en materia de organización de medios personales y materiales."
  },
  {
    pregunta: "17. ¿Qué comisiones se constituyen para coordinación con Comunidades Autónomas?",
    opciones: [
      "a) Comisiones de seguimiento",
      "b) Comisiones mixtas con representantes autonómicos",
      "c) Comisiones judiciales",
      "d) Comisiones legislativas"
    ],
    correcta: 1,
    explicacion: "Se constituirán comisiones mixtas de Letrados y representantes de las Comunidades Autónomas."
  },
  {
    pregunta: "18. ¿Qué responsabilidad tienen los Letrados respecto a la estadística judicial?",
    opciones: [
      "a) Solo recopilar datos",
      "b) Elaboración como instrumento básico para políticas públicas",
      "c) Análisis económico",
      "d) Supervisión de datos fiscales"
    ],
    correcta: 1,
    explicacion: "Son responsables de la elaboración de la estadística judicial, instrumento básico para planificación de políticas públicas."
  },
  {
    pregunta: "19. ¿Qué finalidad tiene la Estadística Judicial en materia de transparencia?",
    opciones: [
      "a) Solo informar al Gobierno",
      "b) Disponibilidad de información actualizada y rigurosa para diversos órganos",
      "c) Control de la actividad judicial",
      "d) Publicación de sentencias"
    ],
    correcta: 1,
    explicacion: "Asegura disponibilidad de información actualizada y rigurosa para Cortes Generales, Gobierno, CCAA, CGPJ y Fiscalía."
  },
  {
    pregunta: "20. ¿Qué acceso tienen los ciudadanos a la estadística judicial?",
    opciones: [
      "a) Limitado a casos concretos",
      "b) Pleno acceso",
      "c) Solo mediante solicitud motivada",
      "d) A través de abogados"
    ],
    correcta: 1,
    explicacion: "Los ciudadanos tendrán pleno acceso a la estadística judicial."
  },
  {
    pregunta: "21. ¿Qué función tienen los Letrados respecto al orden en actuaciones?",
    opciones: [
      "a) Solo en vistas judiciales",
      "b) En actuaciones celebradas ante ellos",
      "c) En todo el edificio judicial",
      "d) Solo a petición del juez"
    ],
    correcta: 1,
    explicacion: "Mantienen el orden en actuaciones que se celebren únicamente ante ellos en dependencias judiciales o fuera."
  },
  {
    pregunta: "22. ¿Qué responsabilidad tienen sobre el archivo judicial de gestión?",
    opciones: [
      "a) Solo custodia",
      "b) Responsabilidad de conformidad con normativa reguladora",
      "c) Digitalización obligatoria",
      "d) Supervisión anual"
    ],
    correcta: 1,
    explicacion: "Son responsables del archivo judicial de gestión de conformidad con la normativa reguladora."
  },
  {
    pregunta: "23. ¿Qué información deben facilitar sobre el estado de actuaciones?",
    opciones: [
      "a) Solo a las partes procesales",
      "b) A quienes manifiesten interés legítimo y directo",
      "c) Información completa sin límites",
      "d) Solo mediante resolución judicial"
    ],
    correcta: 1,
    explicacion: "Facilitarán información a partes interesadas y quienes manifiesten interés legítimo y directo sobre actuaciones no secretas."
  },
  {
    pregunta: "24. ¿Qué derecho tienen las partes sobre documentos de autos no secretos?",
    opciones: [
      "a) Solo consulta en sede judicial",
      "b) Copias simples de escritos y documentos",
      "c) Solo certificaciones",
      "d) Acceso completo al expediente"
    ],
    correcta: 1,
    explicacion: "Tienen derecho a obtener copias simples de escritos y documentos que consten en autos no secretos ni reservados."
  },
  {
    pregunta: "25. ¿Qué funciones adicionales pueden realizar los Letrados?",
    opciones: [
      "a) Solo las expresamente previstas",
      "b) Funciones análogas a las propias inherentes a su puesto",
      "c) Cualquier función administrativa",
      "d) Las que delegue el juez"
    ],
    correcta: 1,
    explicacion: "Realizarán funciones de naturaleza análoga a las propias, inherentes a su puesto y que les encomienden sus superiores."
  },
  {
    pregunta: "26. ¿Qué requisito de nacionalidad se exige para ingresar en el Cuerpo?",
    opciones: [
      "a) Ser español",
      "b) Nacionalidad UE",
      "c) Cualquier nacionalidad",
      "d) Nacionalidad española o de países iberoamericanos"
    ],
    correcta: 0,
    explicacion: "Se requiere ser español para el ingreso en el Cuerpo de Letrados."
  },
  {
    pregunta: "27. ¿Qué titulación académica es necesaria para el ingreso?",
    opciones: [
      "a) Licenciatura o Grado en Derecho",
      "b) Solo Licenciatura en Derecho",
      "c) Doctorado en Derecho",
      "d) Máster habilitante"
    ],
    correcta: 1,
    explicacion: "Se requiere estar en posesión de la licenciatura en Derecho."
  },
  {
    pregunta: "28. ¿Qué causa la pérdida de la condición de Letrado?",
    opciones: [
      "a) Sanción disciplinaria de suspensión",
      "b) Sanción disciplinaria de separación del servicio",
      "c) Condena a pena leve",
      "d) Incompatibilidad temporal"
    ],
    correcta: 1,
    explicacion: "Se pierde la condición por sanción disciplinaria de separación del servicio."
  },
  {
    pregunta: "29. ¿Qué pena provoca la pérdida de la condición de Letrado?",
    opciones: [
      "a) Cualquier condena penal",
      "b) Pena privativa de libertad superior a 3 años por delito doloso",
      "c) Pena de inhabilitación genérica",
      "d) Multa superior a 6 meses"
    ],
    correcta: 1,
    explicacion: "Causa pérdida la condena a pena privativa de libertad superior a tres años por delito doloso."
  },
  {
    pregunta: "30. ¿Qué edad máxima tienen para permanecer en servicio activo?",
    opciones: [
      "a) 65 años",
      "b) 70 años, con posible prolongación hasta 72",
      "c) 75 años",
      "d) No hay límite de edad"
    ],
    correcta: 1,
    explicacion: "Jubilación forzosa a los 70 años, con posible prolongación hasta 72 años."
  },
  {
    pregunta: "31. ¿En qué categoría se ingresa al Cuerpo?",
    opciones: [
      "a) Primera",
      "b) Segunda",
      "c) Tercera",
      "d) Depende del puesto"
    ],
    correcta: 2,
    explicacion: "El ingreso en el Cuerpo se produce por la tercera categoría."
  },
  {
    pregunta: "32. ¿Qué puestos incluye el Grupo primero?",
    opciones: [
      "a) Todos los Letrados de Sala",
      "b) Secretario de Gobierno y Coordinador Provincial",
      "c) Secretario de Gobierno, Coordinador Provincial y Letrados del Supremo",
      "d) Secretario de Gobierno, Coordinador Provincial, Letrados del Supremo y Gabinete Técnico"
    ],
    correcta: 3,
    explicacion: "Incluye Secretario de Gobierno, Secretario Coordinador Provincial, Secretario del Gabinete Técnico del TS y Letrados de Sala del TS."
  },
  {
    pregunta: "33. ¿Qué puestos incluye el Grupo segundo?",
    opciones: [
      "a) Letrados de Audiencia Nacional y TSJ",
      "b) Letrados de Audiencias Provinciales",
      "c) Jefaturas de Servicios Comunes",
      "d) Todos los anteriores"
    ],
    correcta: 3,
    explicacion: "Incluye Letrados de Sala de AN y TSJ, Letrados de AP, jefaturas de Servicios Comunes y puestos de UPAD de órganos colegiados."
  },
  {
    pregunta: "34. ¿Qué derecho profesional tienen los Letrados?",
    opciones: [
      "a) Libre asociación profesional",
      "b) Negociación colectiva",
      "c) Huelga",
      "d) Horario flexible"
    ],
    correcta: 0,
    explicacion: "Entre sus derechos profesionales está la libre asociación profesional."
  },
  {
    pregunta: "35. ¿Qué tratamiento protocolario reciben los Letrados?",
    opciones: [
      "a) Toga y misma altura que jueces en estrados",
      "b) Toga pero posición inferior",
      "c) Traje oscuro",
      "d) Uniforme reglamentario"
    ],
    correcta: 0,
    explicacion: "Usan toga y en estrados se sientan a misma altura que Jueces, Magistrados, Fiscales, Abogados y Procuradores."
  },
  {
    pregunta: "36. ¿Qué distintivo llevan los Letrados sobre la toga?",
    opciones: [
      "a) Banda dorada",
      "b) Placa dorada o plateada según categoría",
      "c) Escudo bordado",
      "d) Corbata específica"
    ],
    correcta: 1,
    explicacion: "Llevan placa dorada si tienen 1ª o 2ª categoría, plateada si son de 3ª categoría."
  },
  {
    pregunta: "37. ¿Quién nombra a los Secretarios de Gobierno?",
    opciones: [
      "a) Consejo General del Poder Judicial",
      "b) Ministerio de Justicia",
      "c) Salas de Gobierno",
      "d) Presidente del Tribunal respectivo"
    ],
    correcta: 1,
    explicacion: "Son nombrados y removidos libremente por el Ministerio de Justicia."
  },
  {
    pregunta: "38. ¿Cuál es el plazo máximo como Secretario de Gobierno en un mismo puesto?",
    opciones: [
      "a) 5 años",
      "b) 10 años",
      "c) 15 años",
      "d) Sin límite"
    ],
    correcta: 1,
    explicacion: "No se podrá ocupar más de diez años el mismo puesto de Secretario de Gobierno."
  },
  {
    pregunta: "39. ¿Qué competencia tienen los Secretarios de Gobierno sobre estadística?",
    opciones: [
      "a) Elaboración directa",
      "b) Control y seguimiento estadístico",
      "c) Validación definitiva",
      "d) Solo recepción"
    ],
    correcta: 1,
    explicacion: "Deben velar por el cumplimiento de criterios establecidos por la Comisión Nacional de Estadística Judicial."
  },
  {
    pregunta: "40. ¿Quién nombra a los Secretarios Coordinadores Provinciales?",
    opciones: [
      "a) Ministerio de Justicia a propuesta del Secretario de Gobierno",
      "b) Consejo General del Poder Judicial",
      "c) Comunidades Autónomas",
      "d) Salas de Gobierno"
    ],
    correcta: 0,
    explicacion: "Nombrados por el Ministerio de Justicia a propuesta del Secretario de Gobierno, de acuerdo con las CCAA."
  },
  {
    pregunta: "41. ¿Qué antigüedad se requiere para Secretario Coordinador Provincial?",
    opciones: [
      "a) 5 años en el Cuerpo",
      "b) 10 años en el Cuerpo y 5 en 2ª categoría",
      "c) 15 años en el Cuerpo",
      "d) 20 años de servicio"
    ],
    correcta: 1,
    explicacion: "Deben llevar al menos diez años en el Cuerpo, y como mínimo cinco en puestos de segunda categoría."
  },
  {
    pregunta: "42. ¿Qué competencia tienen los Coordinadores Provinciales sobre suplencias?",
    opciones: [
      "a) Proponerlas",
      "b) Resolverlas",
      "c) Informarlas",
      "d) Delegarlas"
    ],
    correcta: 1,
    explicacion: "Resuelven las suplencias y sustituciones de los Letrados de su ámbito."
  },
  {
    pregunta: "43. ¿Quién preside las Juntas de Secretarios en cada provincia?",
    opciones: [
      "a) El Secretario de Gobierno",
      "b) El Secretario Coordinador Provincial",
      "c) El Letrado más antiguo",
      "d) El Presidente del Tribunal Superior"
    ],
    correcta: 1,
    explicacion: "El Secretario Coordinador Provincial preside las Juntas de Secretarios en su provincia."
  },
  {
    pregunta: "44. ¿Qué sanción pueden imponer los Coordinadores Provinciales?",
    opciones: [
      "a) Apercibimiento",
      "b) Suspensión",
      "c) Multa",
      "d) Separación temporal"
    ],
    correcta: 0,
    explicacion: "Pueden incoar expedientes disciplinarios e imponer la sanción de apercibimiento."
  },
  {
    pregunta: "45. ¿Quién puede delegar la concesión de permisos a Letrados?",
    opciones: [
      "a) El Secretario General en el Secretario de Gobierno",
      "b) El Secretario de Gobierno en el Coordinador Provincial",
      "c) El Coordinador Provincial en los Letrados de Sala",
      "d) No se permite delegación"
    ],
    correcta: 1,
    explicacion: "El Secretario de Gobierno puede delegar en el Secretario Coordinador la concesión de permisos y licencias."
  },
  {
    pregunta: "46. ¿Qué órgano dirige y coordina a todos los Letrados?",
    opciones: [
      "a) El Ministro de Justicia",
      "b) El Secretario General de la Administración de Justicia",
      "c) El Consejo General del Poder Judicial",
      "d) Los Secretarios de Gobierno"
    ],
    correcta: 1,
    explicacion: "El Secretario General de la Administración de Justicia dirige y coordina a los Secretarios de Gobierno y a todos los Letrados."
  },
  {
    pregunta: "47. ¿Qué competencia tiene el Secretario General sobre estadística judicial?",
    opciones: [
      "a) Elaborarla directamente",
      "b) Centralizar la información estadística",
      "c) Validar todos los datos",
      "d) Supervisar solo muestras"
    ],
    correcta: 1,
    explicacion: "Centraliza la información estadística que deba recibir el Ministerio de Justicia."
  },
  {
    pregunta: "48. ¿Qué órgano tiene funciones consultivas sobre el Cuerpo de Letrados?",
    opciones: [
      "a) La Sala de Gobierno del TS",
      "b) El Consejo del Secretariado",
      "c) La Comisión de Estudios del CGPJ",
      "d) El Pleno del Ministerio"
    ],
    correcta: 1,
    explicacion: "El Consejo del Secretariado tiene funciones consultivas en materias que afecten al Cuerpo."
  },
  {
    pregunta: "49. ¿Quién preside el Consejo del Secretariado?",
    opciones: [
      "a) El Secretario General de la Administración de Justicia",
      "b) El Director General de Relaciones con la Administración de Justicia",
      "c) El Secretario de Gobierno más antiguo",
      "d) Un Letrado elegido por sorteo"
    ],
    correcta: 1,
    explicacion: "Se constituye bajo la presidencia del titular de la Dirección General de Relaciones con la Administración de Justicia."
  },
  {
    pregunta: "50. ¿Qué mayoría se requiere para acuerdos en las Juntas de Letrados?",
    opciones: [
      "a) Unanimidad",
      "b) Mayoría absoluta (mitad más uno)",
      "c) Dos tercios",
      "d) Mayoría simple de asistentes"
    ],
    correcta: 1,
    explicacion: "La Junta se considera válidamente constituida cuando asisten la mitad más uno de sus miembros, adoptándose acuerdos por mayoría simple."
  }
];

        let preguntaActual = 0;
        let respuestasCorrectas = 0;
        let respuestasUsuario = Array(preguntas.length).fill(null);

        // Mostrar la primera pregunta al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
        preguntas.forEach(p => {
            // Guardamos la opción correcta original
            const correctaOriginal = p.opciones[p.correcta];
            // Mezclamos las opciones
            p.opciones = mezclarArray(p.opciones);
            // Actualizamos el índice de la nueva correcta
            p.correcta = p.opciones.indexOf(correctaOriginal);
        });

            document.getElementById('total-preguntas').textContent = preguntas.length;
            generarIndice();
            mostrarPregunta(preguntaActual);
            actualizarControlesNavegacion();
        });
        
        //para mezclar
            function mezclarArray(array) {
            const copia = [...array];
            for (let i = copia.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [copia[i], copia[j]] = [copia[j], copia[i]];
            }
            return copia;
            }

        


        // Función para generar el índice de preguntas
        function generarIndice() {
            const indice = document.getElementById('indice');
            indice.innerHTML = '';
            
            preguntas.forEach((_, index) => {
                const numero = document.createElement('div');
                numero.className = 'numero-pregunta';
                numero.textContent = index + 1;
                numero.onclick = function() { irAPregunta(index); };
                indice.appendChild(numero);
            });
        }

        // Función para ir a una pregunta específica
        function irAPregunta(num) {
            preguntaActual = num;
            mostrarPregunta(preguntaActual);
            actualizarControlesNavegacion();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Función para mostrar una pregunta
        function mostrarPregunta(num) {
            const form = document.getElementById('testForm');
            form.innerHTML = '';
            
            const pregunta = preguntas[num];
            
            const divPregunta = document.createElement('div');
            divPregunta.className = 'pregunta';
            
            const pTexto = document.createElement('p');
            pTexto.textContent = pregunta.pregunta;
            divPregunta.appendChild(pTexto);
            
            // Crear opciones de respuesta
            pregunta.opciones.forEach((opcion, index) => {
                const label = document.createElement('label');
                
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'pregunta';
                input.value = index;
                input.onclick = function() { verificarRespuesta(index); };
                
                // Verificar si ya se respondió esta pregunta
                if (respuestasUsuario[num] !== null) {
                    input.disabled = true;
                    if (index === pregunta.correcta) {
                        label.classList.add('correcta');
                    } else if (index === respuestasUsuario[num] && respuestasUsuario[num] !== pregunta.correcta) {
                        label.classList.add('incorrecta');
                    }
                }
                
                label.appendChild(input);
                label.appendChild(document.createTextNode(opcion));
                divPregunta.appendChild(label);
            });
            
            // Mostrar explicación si ya se respondió
            if (respuestasUsuario[num] !== null) {
                const divExplicacion = document.createElement('div');
                divExplicacion.className = 'explicacion';
                divExplicacion.textContent = pregunta.explicacion;
                divExplicacion.style.display = 'block';
                divPregunta.appendChild(divExplicacion);
            }
            
            form.appendChild(divPregunta);
            document.getElementById('pregunta-actual').textContent = num + 1;
            
            // Actualizar el índice
            actualizarIndice();
        }

        // Función para actualizar el índice
        function actualizarIndice() {
            const numeros = document.querySelectorAll('.numero-pregunta');
            numeros.forEach((numero, index) => {
                numero.classList.remove('respondida', 'respondida-incorrecta');
                
                if (respuestasUsuario[index] !== null) {
                    if (respuestasUsuario[index] === preguntas[index].correcta) {
                        numero.classList.add('respondida');
                    } else {
                        numero.classList.add('respondida-incorrecta');
                    }
                }
            });
        }

        // Función para verificar la respuesta seleccionada
        function verificarRespuesta(opcionSeleccionada) {
            const pregunta = preguntas[preguntaActual];
            respuestasUsuario[preguntaActual] = opcionSeleccionada;
            
            if (opcionSeleccionada === pregunta.correcta) {
                respuestasCorrectas++;
            } else if (respuestasUsuario[preguntaActual] !== null && pregunta.correcta === respuestasUsuario[preguntaActual]) {
                // Si antes estaba correcta y ahora no, restamos
                respuestasCorrectas--;
            }
            
            // Actualizar la visualización de las opciones
            mostrarPregunta(preguntaActual);
            
            // Mostrar resultado parcial
            const preguntasRespondidas = respuestasUsuario.filter(r => r !== null).length;
            const resultadoDiv = document.getElementById('resultado');
            resultadoDiv.innerHTML = `
                <p>Respuestas correctas: ${respuestasCorrectas} de ${preguntasRespondidas}</p>
                <p>Porcentaje de aciertos: ${preguntasRespondidas > 0 ? ((respuestasCorrectas / preguntasRespondidas) * 100).toFixed(1) : 0}%</p>
            `;
            resultadoDiv.style.display = 'block';
            
            // Actualizar controles de navegación
            actualizarControlesNavegacion();
        }

        // Función para actualizar controles de navegación
        function actualizarControlesNavegacion() {
            document.getElementById('anterior-btn').style.display = preguntaActual === 0 ? 'none' : 'block';
            document.getElementById('siguiente-btn').style.display = preguntaActual === preguntas.length - 1 ? 'none' : 'block';
            document.getElementById('finalizar-btn').style.display = preguntaActual === preguntas.length - 1 ? 'block' : 'none';
        }

        // Función para avanzar a la siguiente pregunta
        function siguientePregunta() {
            if (preguntaActual < preguntas.length - 1) {
                preguntaActual++;
                mostrarPregunta(preguntaActual);
                actualizarControlesNavegacion();
            }
        }

        // Función para retroceder a la pregunta anterior
        function anteriorPregunta() {
            if (preguntaActual > 0) {
                preguntaActual--;
                mostrarPregunta(preguntaActual);
                actualizarControlesNavegacion();
            }
        }

        // Función para finalizar el test
        function finalizarTest() {
            const preguntasRespondidas = respuestasUsuario.filter(r => r !== null).length;
            const resultadoFinal = `
                <h3>Test completado</h3>
                <p>Has respondido ${preguntasRespondidas} de ${preguntas.length} preguntas.</p>
                <p>Respuestas correctas: ${respuestasCorrectas} (${preguntasRespondidas > 0 ? ((respuestasCorrectas / preguntasRespondidas) * 100).toFixed(1) : 0}%)</p>
                <p>Respuestas incorrectas: ${preguntasRespondidas - respuestasCorrectas}</p>
                <p>Preguntas sin responder: ${preguntas.length - preguntasRespondidas}</p>
            `;
            document.getElementById('resultado').innerHTML = resultadoFinal;
            document.getElementById('reintentar-incorrectas-btn').style.display = 'block';
        }
        
        function reintentarIncorrectas() {
    const preguntasIncorrectas = preguntas
        .map((pregunta, index) => ({ ...pregunta, indexOriginal: index }))
        .filter((_, index) => respuestasUsuario[index] !== null && respuestasUsuario[index] !== preguntas[index].correcta);

    if (preguntasIncorrectas.length === 0) {
        alert('No has fallado ninguna pregunta.');
        return;
    }

    preguntasIncorrectas.forEach(p => {
        // Desordenar las opciones
        const opcionesOriginales = [...p.opciones];
        const correctaOriginal = p.opciones[p.correcta];

        // Mezclar opciones
        for (let i = opcionesOriginales.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [opcionesOriginales[i], opcionesOriginales[j]] = [opcionesOriginales[j], opcionesOriginales[i]];
        }

        p.opciones = opcionesOriginales;
        p.correcta = opcionesOriginales.indexOf(correctaOriginal);
    });

    // Reiniciar variables con solo las incorrectas
    preguntaActual = 0;
    respuestasCorrectas = 0;
    respuestasUsuario = Array(preguntasIncorrectas.length).fill(null);
    preguntas.splice(0, preguntas.length, ...preguntasIncorrectas); // reemplaza el array de preguntas

    // Actualizar interfaz
    document.getElementById('reintentar-incorrectas-btn').style.display = 'none';
    document.getElementById('resultado').style.display = 'none';
    document.getElementById('finalizar-btn').style.display = 'none';

    generarIndice();
    mostrarPregunta(preguntaActual);
    actualizarControlesNavegacion();
}
    </script>
    <button type="button" id="reintentar-incorrectas-btn" style="display:none;" onclick="reintentarIncorrectas()">Reintentar preguntas falladas</button>
</body>
</html>